<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Io on Yohai&#39;s Blog</title>
    <link>http://localhost:1313/tags/io/</link>
    <description>Recent content in Io on Yohai&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>© 2025 Yohai</copyright>
    <lastBuildDate>Mon, 15 Jan 2024 00:00:00 +0000</lastBuildDate><atom:link href="http://localhost:1313/tags/io/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Part 18: IO, Concurrency &amp; Parallelism - A Deep Dive</title>
      <link>http://localhost:1313/drafts/18-io-concurrency/</link>
      <pubDate>Mon, 15 Jan 2024 00:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/drafts/18-io-concurrency/</guid>
      <description>&lt;p&gt;This article explores Zig 0.15&amp;rsquo;s IO system, threading model, synchronization primitives, and async IO support. We&amp;rsquo;ll look at the actual source code to understand how these systems work under the hood.&lt;/p&gt;

&lt;h2 class=&#34;relative group&#34;&gt;Part 0: Concurrency vs Parallelism
    &lt;div id=&#34;part-0-concurrency-vs-parallelism&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none&#34;&gt;
        &lt;a class=&#34;text-primary-300 dark:text-neutral-700 !no-underline&#34; href=&#34;#part-0-concurrency-vs-parallelism&#34; aria-label=&#34;Anchor&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;
    
&lt;/h2&gt;
&lt;p&gt;Before diving into the code, let&amp;rsquo;s establish clear mental models.&lt;/p&gt;

&lt;h3 class=&#34;relative group&#34;&gt;The Simple Idea
    &lt;div id=&#34;the-simple-idea&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none&#34;&gt;
        &lt;a class=&#34;text-primary-300 dark:text-neutral-700 !no-underline&#34; href=&#34;#the-simple-idea&#34; aria-label=&#34;Anchor&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;
    
&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Concurrency: Managing multiple tasks that COULD overlap
Parallelism: Actually executing multiple tasks AT THE SAME TIME

┌─────────────────────────────────────────────────────────────────────┐
│ CONCURRENCY (Interleaving - One Core)                               │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│   Task A: ████░░░░████░░░░████                                      │
│   Task B: ░░░░████░░░░████░░░░                                      │
│                                                                     │
│   Time ─────────────────────────────────────────►                   │
│                                                                     │
│   One CPU core rapidly switching between tasks                      │
│   Tasks don&amp;#39;t run simultaneously - they take turns                  │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│ PARALLELISM (True Simultaneous - Multiple Cores)                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│   Core 1 - Task A: ████████████████████████                         │
│   Core 2 - Task B: ████████████████████████                         │
│   Core 3 - Task C: ████████████████████████                         │
│   Core 4 - Task D: ████████████████████████                         │
│                                                                     │
│   Time ─────────────────────────────────────────►                   │
│                                                                     │
│   Multiple CPU cores running tasks AT THE SAME TIME                 │
└─────────────────────────────────────────────────────────────────────┘
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 class=&#34;relative group&#34;&gt;When to Use What
    &lt;div id=&#34;when-to-use-what&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none&#34;&gt;
        &lt;a class=&#34;text-primary-300 dark:text-neutral-700 !no-underline&#34; href=&#34;#when-to-use-what&#34; aria-label=&#34;Anchor&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;
    
&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Pattern&lt;/th&gt;
          &lt;th&gt;Use Case&lt;/th&gt;
          &lt;th&gt;Example&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;Threads&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;CPU-bound parallel work&lt;/td&gt;
          &lt;td&gt;Image processing, compression&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;Async IO&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;IO-bound waiting&lt;/td&gt;
          &lt;td&gt;Network servers, file operations&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;strong&gt;Thread Pool&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;Mixed workloads&lt;/td&gt;
          &lt;td&gt;Web servers with compute + IO&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;

&lt;h2 class=&#34;relative group&#34;&gt;Part 1: The New IO Interface
    &lt;div id=&#34;part-1-the-new-io-interface&#34; class=&#34;anchor&#34;&gt;&lt;/div&gt;
    
    &lt;span
        class=&#34;absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none&#34;&gt;
        &lt;a class=&#34;text-primary-300 dark:text-neutral-700 !no-underline&#34; href=&#34;#part-1-the-new-io-interface&#34; aria-label=&#34;Anchor&#34;&gt;#&lt;/a&gt;
    &lt;/span&gt;
    
&lt;/h2&gt;
&lt;p&gt;Zig 0.15 introduces a completely redesigned IO interface. The old &lt;code&gt;GenericReader&lt;/code&gt;/&lt;code&gt;GenericWriter&lt;/code&gt; are now &lt;strong&gt;deprecated&lt;/strong&gt; in favor of &lt;code&gt;std.io.Reader&lt;/code&gt; and &lt;code&gt;std.io.Writer&lt;/code&gt;.&lt;/p&gt;</description>
      
    </item>
    
  </channel>
</rss>
